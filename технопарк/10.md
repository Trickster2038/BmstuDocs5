# Linux бэкенд 2 (11 лекция)

## Git конфликты
- git pull --rebase
- git fetch
- branch$ git rebase origin/main
- three way match |our|our main|new main
- git rebase --continue
- git push --force-with-lease



- если надо удалить коммит с существующими файлами
- git rebase -i
- git push --force-with-lease

## Бэкенд

- nettools

- netstat -nltp

- 0.0.0.0:80 - слушаем все соединения на 80 порту

- curl -v 127.0.0.1:80

> curl 127.0.0.1 &

- htop (зеленое - пользователь, красное - ядро и система, )

- load average (за разное время) - количество процессорного времени которое пытаются отъесть запущенные процессы (1 единица - 1 ядро)

- zombie-process - процесс без хозяина

- sysstat

- df -h смотреть место на дисках

> cent os
>
> dd if=... of=... bs=... count=...
>
> iostat -ktx 1 (обновлять раз в секунду), %util, %iowait, w_await - wa в top - больше 30-50 - тупит диск, а процессор ждет и sy  в топ норм (sy - system usage) 
>
> 
# Виртуальная память

- top
  - virt - количество памяти которое процесс может зарезервировать (может больше чем в системе физически)
  - res - сколько реально занимает

- тупо read 20гигов в питоне убьется по объему (не генератором)

- on killer - можно задавать приоритеты процессов

- lru cahce

- потоки - общая память

- потоки оптимизируют сетевые взаимодействия и запись на диск

- в питоне реально активен только 1 поток, так что математику не оптимизирует, в pytest именно процессы

___

- stress-ng

> nload
> ifconfig
> tcpdump -ilo -iany == wireshark
> lsof -p 287

## ДЗ

- размер запроса - поле после кода ошибки
- access log в репо не надо)